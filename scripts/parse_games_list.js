#!/usr/bin/env node
// scripts/parse_games_list.js
// Extracts game titles from the clSINGLEFILE.html games array

const gameIds = [
  'cl1',
  'cl10bullets',
  'cl10minutestildawn',
  'cl12minibattles',
  'cl1on1soccer',
  'cl1v1lol',
  'cl1v1tennis',
  'cl2048',
  'cl2048cupcakes',
  'cl2doom',
  'cl2Dshooting',
  'cl3dash',
  'cl3pandas',
  'cl3pandasbrazil',
  'cl3pandasfantasy',
  'cl3pandasjapan',
  'cl3pandasnight',
  'cl3slices2',
  'cl40xescape',
  'cl4thandgoal',
  'cl500calibercontractz',
  'cl60secondsburgerrun',
  'cl60secondssantarun',
  'cl8ballclassic',
  'cl8ballpool',
  'cl9007199254740992',
  'cl99balls',
  'cl99nightsitf',
  'clabandoned3',
  'clabsolutemadness',
  'clacecombat2',
  'clacecombat3',
  'clacegangstertaxi',
  'clachievementunlocked',
  'clachievmentunlocked',
  'clachievmentunlocked2',
  'clachievmentunlocked3',
  'clachillies',
  'clachillies2',
  'clADarkRoom',
  'cladayintheoffice',
  'clADOFAI',
  'cladvancewars',
  'cladvancewars2',
  'cladventneon',
  'clAdventureCapatalist',
  'cladventurecapitalist',
  'clagariolite',
  'clageofwar',
  'clageofwar2',
  'clagesofconflict',
  'clahoysurvival',
  'clai',
  'clakoopasrevenge',
  'clakoopasrevenge2',
  'clakumanorgaiden',
  'clalienhominid',
  'clalienhominidgba',
  'clalienskyinvasion',
  'clalientransporter',
  'clalienvspredator',
  'clallbossesin1',
  'clallocation',
  'clamaze',
  'clamidstthesky',
  'clamigopancho',
  'clamigopancho2',
  'clamigopancho3',
  'clamigopancho4',
  'clamigopancho5',
  'clamigopancho6',
  'clamigopancho7',
  'clamongus',
  'clamorphous',
  'clancientsins',
  'clangry-birdsspace',
  'clangrybirds-space',
  'clangrybirds',
  'clangrybirdsshowdown',
  'clangrybirdsspace',
  'clanimalcrossingwildworld',
  'clanotherworld',
  'clapotris',
  'clappleshooter',
  'clappleworm',
  'claquaparkio',
  'clarceuslegend',
  'clarcheryworldtour',
  'clarena',
  'clarmormayhem2',
  'clarsonate',
  'clascent',
  'clasmallworldcup',
  'classesmentexaminationque',
  'clasteroids',
  'clasteroidsALT',
  'clattackhole',
  'clavalanche',
  'claviamasters',
  'claviamastersbuggy',
  'clAwesomePirates',
  'clawesomeplanes',
  'clawesometanks',
  'clawesometanks2',
  'clB3313',
  'clbabeltower',
  'clbabychiccoadventure',
  'clbabykaizo',
  'clbabysniperinvietnam',
  'clbackrooms',
  'clbackrooms2D',
  'clbackyardbaseball',
  'clbackyardbaseball09',
  'clbackyardbaseball10',
  'clbackyardsoccer',
  'clbaconmaydie',
  'clbadbodyguards',
  'clbadicecream',
  'clbadmondaysimulator',
  'clbadparenting',
  'clbadpiggies',
  'clbadtimesim',
  'clbadtimesimulator',
  'clbaldidecomp',
  'clbaldisbasics',
  'clbaldisbasicsremaster',
  'clbaldisfunnewschoolultimate',
  'clballblast',
  'clballsandbricks',
  'clballsandbricksgood',
  'clbananasimulator',
  'clbanditgunslingers',
  'clbanjokazooie',
  'clbanjotooie',
  'clbankbreakout2',
  'clbankrobbery2',
  'clbarryhasasecret',
  'clbas',
  'clbaseballbros',
  'clbasketballfrvr',
  'clbasketballlegends',
  'clbasketballstars',
  'clbasketbattle',
  'clbasketbros',
  'clbasketrandom',
  'clbasketrandomgood',
  'clbasketslamdunk2',
  'clbatterup',
  'clbattlekarts',
  'clbattles',
  'clbattlesim',
  'clbattlezone',
  'clbazookaboy',
  'clbballlegend',
  'clbeachboxingsim',
  'clbeamrider',
  'clbearbarians',
  'clbearsus',
  'clben10alienforce',
  'clben10omniverse',
  'clben10protector',
  'clben10racing',
  'clben10ultimatealien',
  'clbergentruck201x',
  'clbfdia5b',
  'clbigicetowertinysquare',
  'clbigneontowertinysquare',
  'clbigshotboxing2',
  'clbigtowertinysquare',
  'clbigtowertinysquare2',
  'clbigtowertinysquare2good',
  'clBig_Time_Butter_Baron',
  'clbindingofisaccsheeptime',
  'clbioevil4',
  'clbitlife',
  'clbitlifeencrypted',
  'clbitplanes',
  'clblackjack',
  'clblackjackbattle',
  'clblackjackhhhh',
  'clblacksmithlab',
  'clblastronaut',
  'clblazedrifter',
  'clbleachvsnaruto',
  'clblightborne',
  'clblobsstory2',
  'clblockblast',
  'clblockcraftparkour',
  'clblockcraftshooter',
  'clblockpost',
  'clblockthepig',
  'clblockydemolitionderby',
  'clblockysnakes',
  'clbloodmoney',
  'clbloodtournament',
  'clbloons',
  'clbloons2',
  'clbloonspp1',
  'clbloonspp2',
  'clbloonspp3',
  'clbloonspp4',
  'clbloonspp5',
  'clbloonsTD1',
  'clbloonsTD2',
  'clbloonsTD3',
  'clbloonsTD4',
  'clbloonsTD5',
  'clbloonsTD6scratch',
  'clbloxorz',
  'clblumgiracers',
  'clBMX2',
  'clbntts',
  'clbobtherobber',
  'clbobtherobber2',
  'clbobtherobber5',
  'clbollybeat',
  'clbomberman',
  'clbomberman2',
  'clbombermanhero',
  'clboomslingers',
  'clbottlecracks',
  'clbottleflip3d',
  'clbounceback',
  'clbouncemasters',
  'clbouncymotors',
  'clBountyOfOne',
  'clbowlalt',
  'clboxhead2playrooms',
  'clboxheadnightmare',
  'clboxinglive-2',
  'clboxinglive2',
  'clboxingrandom',
  'clbrainrot',
  'clbridgerace',
  'clBTD1',
  'clbtd5',
  'clbtts',
  'clbtts2',
  'clbubbleshooter',
  'clbubbleshooterpirate',
  'clbubbletanks',
  'clbubbletanks2',
  'clbubbletanks3',
  'clbubbletanksarenas',
  'clbubbletankstd',
  'clbubsy',
  'clbuckshotroulette',
  'clbuildnowgg',
  'clbunnyland',
  'clburgerandfrights',
  'clburritobison',
  'clburritobison2',
  'clburritobisonlaunchalibre',
  'clburritobisonrevenge',
  'clbushidoblade',
  'clcactusmccoy',
  'clcactusmccoy2',
  'clcannonballs3d',
  'clcannonfodder',
  'clcapybaraclicker',
  'clcarcrash3',
  'clcardrawing',
  'clcareatscar2deluxe',
  'clcarkingarena',
  'clcarmods',
  'clcarstuntsdriving',
  'clCartoonNetworkTableTennisUltimateTournament',
  'clcastlebloodline',
  'clcastlecircleofmoon',
  'clcastlevania',
  'clcastlevania2',
  'clcastlevania3',
  'clcastlevaniaariaofsorrow',
  'clcastlevaniadawnofsorrow',
  'clcastlevanianes',
  'clcastlewarsmodern',
  'clcatmario',
  'clcatmariogood',
  'clcatslovecake2',
  'clcavestory',
  'clceleste',
  'clceleste2',
  'clcellardoor',
  'clchaosf fiction2',
  'clcheckers',
  'clcheesechompers3d',
  'clcheshireinachatroom',
  'clchess',
  'clchessclassic'
];

// Convert game IDs to readable titles by removing 'cl' prefix and inserting spaces/capitalization
function idToTitle(id){
  return id
    .replace(/^cl/, '')
    .replace(/([A-Z])/g, ' $1')
    .replace(/([0-9]+)/g, ' $1')
    .trim()
    .split(/[\s-]+/)
    .map(w => w.charAt(0).toUpperCase() + w.slice(1))
    .join(' ');
}

const games = gameIds.map(id => ({
  id,
  title: idToTitle(id),
  category: '',
  author: '',
  thumbnail: `https://via.placeholder.com/400x240?text=${encodeURIComponent(idToTitle(id))}`,
  path: `public/games/${id}.html`
}));

console.log(`Generated ${games.length} game entries.`);
console.log('Sample:', games.slice(0, 3));

const fs = require('fs');
fs.writeFileSync('public/games-manifest.json', JSON.stringify(games, null, 2), 'utf8');
console.log('Wrote public/games-manifest.json');
